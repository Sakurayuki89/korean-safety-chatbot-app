# ë°°í¬ ê°€ì´ë“œ (Deployment Guide)

## ğŸš€ í”„ë¡œë•ì…˜ ë°°í¬ ì¤€ë¹„

### í˜„ì¬ ìƒíƒœ
- **ì™„ì„±ë„**: 95%
- **ë°°í¬ ì¤€ë¹„ë„**: ì¦‰ì‹œ ë°°í¬ ê°€ëŠ¥ âœ…
- **í•µì‹¬ ê¸°ëŠ¥**: ëª¨ë“  ê¸°ëŠ¥ ì™„ì„± ë° í…ŒìŠ¤íŠ¸ ì™„ë£Œ

## ğŸ“‹ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… ì™„ë£Œëœ ì‘ì—…
- [x] Next.js 15 ì•± êµ¬ì¡° ì™„ì„±
- [x] MongoDB ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
- [x] Google OAuth ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„
- [x] ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì™„ì„±
- [x] ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
- [x] ë°˜ì‘í˜• UI/UX ì™„ì„±
- [x] ë¹Œë“œ ì—ëŸ¬ í•´ê²°
- [x] TypeScript íƒ€ì… ê²€ì¦ í†µê³¼
- [x] ë³´ì•ˆ ì„¤ì • ì™„ë£Œ (CSRF, httpOnly ì¿ í‚¤ ë“±)

### ğŸ”§ ë°°í¬ ì „ í•„ìˆ˜ ì„¤ì •

#### 1. Vercel í™˜ê²½ë³€ìˆ˜ ì„¤ì •
```bash
# ë°ì´í„°ë² ì´ìŠ¤
MONGODB_URI="YOUR_MONGODB_CONNECTION_STRING"

# AI ì„œë¹„ìŠ¤
GEMINI_API_KEY="YOUR_GEMINI_API_KEY"

# Google OAuth (ë¦¬ë””ë ‰ì…˜ URIëŠ” ë™ì  ìƒì„±)
GOOGLE_CLIENT_ID="YOUR_GOOGLE_CLIENT_ID"
GOOGLE_CLIENT_SECRET="YOUR_GOOGLE_CLIENT_SECRET"

# í™˜ê²½ ì„¤ì •
NODE_ENV="production"
```

#### 2. Google Cloud Console ì„¤ì •
OAuth 2.0 í´ë¼ì´ì–¸íŠ¸ì˜ **ìŠ¹ì¸ëœ ë¦¬ë””ë ‰ì…˜ URI**ì— ë‹¤ìŒ URLë“¤ ì¶”ê°€:

```
# í˜„ì¬ Vercel ë°°í¬ URL
https://korean-safety-chatbot-app-git-main-sakurayuki89s-projects.vercel.app/api/google/auth/callback

# ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì‚¬ìš© ì‹œ (ì˜ˆì‹œ)
https://your-custom-domain.com/api/google/auth/callback

# ê°œë°œ í™˜ê²½ (í•„ìš”ì‹œ)
http://localhost:3000/api/google/auth/callback
```

## ğŸ”„ ë°°í¬ ë‹¨ê³„

### Step 1: ì½”ë“œ ìµœì¢… ì»¤ë°‹
```bash
git add .
git commit -m "ğŸš€ í”„ë¡œë•ì…˜ ë°°í¬ ì¤€ë¹„ ì™„ë£Œ - ëª¨ë“  ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ"
git push origin main
```

### Step 2: Vercel ë°°í¬
1. Vercel ëŒ€ì‹œë³´ë“œì—ì„œ í”„ë¡œì íŠ¸ ì„ íƒ
2. Environment Variablesì— ìœ„ì˜ í™˜ê²½ë³€ìˆ˜ ì„¤ì •
3. Deploy ë²„íŠ¼ í´ë¦­
4. ë°°í¬ ì™„ë£Œ ëŒ€ê¸° (ì•½ 2-3ë¶„)

### Step 3: ë°°í¬ í›„ ê²€ì¦
1. **ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸**
   - ë©”ì¸ í˜ì´ì§€ ë¡œë”© í™•ì¸
   - ì±„íŒ…ë´‡ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
   - ê³µì§€ì‚¬í•­ í‘œì‹œ í™•ì¸

2. **ê´€ë¦¬ì ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸**
   - `/admin` í˜ì´ì§€ ì ‘ê·¼
   - Google ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
   - ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì§„ì… í™•ì¸
   - ê° ê´€ë¦¬ ê¸°ëŠ¥ ë™ì‘ í™•ì¸

3. **ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸**
   - ë¬¸ì˜ì‚¬í•­ ë“±ë¡ í…ŒìŠ¤íŠ¸
   - ê³µì§€ì‚¬í•­ ì¡°íšŒ í…ŒìŠ¤íŠ¸
   - ì•ˆì „ë³´ê±´ìš©í’ˆ ì‹ ì²­ í…ŒìŠ¤íŠ¸

## ğŸŒ ë„ë©”ì¸ ì„¤ì • (ì„ íƒì‚¬í•­)

### ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì—°ê²°
1. Vercel í”„ë¡œì íŠ¸ ì„¤ì •ì—ì„œ Domain ì¶”ê°€
2. DNS ì„¤ì •ì—ì„œ CNAME ë ˆì½”ë“œ ì¶”ê°€:
   ```
   CNAME: www -> korean-safety-chatbot-app-git-main-sakurayuki89s-projects.vercel.app
   ```
3. Google Cloud Consoleì˜ ë¦¬ë””ë ‰ì…˜ URI ì—…ë°ì´íŠ¸

## ğŸ“Š ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

### ëª¨ë‹ˆí„°ë§ ë„êµ¬ ì„¤ì •
1. **Vercel Analytics**: ìë™ìœ¼ë¡œ í™œì„±í™”ë¨
2. **Google Analytics** (ì„ íƒì‚¬í•­): ì¶”ê°€ ì„¤ì • í•„ìš”
3. **Error Tracking** (ì„ íƒì‚¬í•­): Sentry ë“± ì„œë“œíŒŒí‹° ì„œë¹„ìŠ¤ ì—°ë™

### ì„±ëŠ¥ ì§€í‘œ ëª©í‘œ
- **First Contentful Paint**: < 1.5s
- **Time to Interactive**: < 3.5s
- **Cumulative Layout Shift**: < 0.1
- **Server Response Time**: < 200ms

## ğŸ”’ ë³´ì•ˆ ì„¤ì •

### ì´ë¯¸ êµ¬í˜„ëœ ë³´ì•ˆ ê¸°ëŠ¥
- âœ… CSRF í† í° ê²€ì¦
- âœ… httpOnly ì¿ í‚¤ë¥¼ í†µí•œ í† í° ì €ì¥
- âœ… Secure ì¿ í‚¤ (HTTPSì—ì„œë§Œ ì „ì†¡)
- âœ… SameSite ì¿ í‚¤ ì†ì„± ì„¤ì •
- âœ… Environment ë³€ìˆ˜ë¥¼ í†µí•œ ë¯¼ê° ì •ë³´ ê´€ë¦¬

### ì¶”ê°€ ë³´ì•ˆ ê°•í™” (ì„ íƒì‚¬í•­)
- **CSP (Content Security Policy)** ì„¤ì •
- **Rate Limiting** êµ¬í˜„
- **Input Validation** ê°•í™”
- **SQL Injection ë°©ì§€** (MongoDB NoSQLì´ë¯€ë¡œ ê¸°ë³¸ì ìœ¼ë¡œ ì•ˆì „)

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ë°°í¬ ì´ìŠˆ

#### 1. í™˜ê²½ë³€ìˆ˜ ë¯¸ì„¤ì •
**ì¦ìƒ**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜ ë˜ëŠ” Google ë¡œê·¸ì¸ ì‹¤íŒ¨
**í•´ê²°**: Vercel ëŒ€ì‹œë³´ë“œì—ì„œ í™˜ê²½ë³€ìˆ˜ ì¬í™•ì¸ ë° ì„¤ì •

#### 2. ë¦¬ë””ë ‰ì…˜ URI ë¶ˆì¼ì¹˜
**ì¦ìƒ**: "redirect_uri_mismatch" ì˜¤ë¥˜
**í•´ê²°**: Google Cloud Consoleì—ì„œ ì •í™•í•œ ë°°í¬ URLë¡œ ë¦¬ë””ë ‰ì…˜ URI ì—…ë°ì´íŠ¸

#### 3. ë¹Œë“œ ì‹¤íŒ¨
**ì¦ìƒ**: ë°°í¬ ì¤‘ ë¹Œë“œ ì˜¤ë¥˜ ë°œìƒ
**í•´ê²°**: ë¡œì»¬ì—ì„œ `npm run build` ì‹¤í–‰í•˜ì—¬ ì˜¤ë¥˜ í™•ì¸ í›„ ìˆ˜ì •

#### 4. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨
**ì¦ìƒ**: API í˜¸ì¶œ ì‹œ 500 ì—ëŸ¬
**í•´ê²°**: MongoDB ì—°ê²° ë¬¸ìì—´ ë° ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ ì„¤ì • í™•ì¸

### ê¸´ê¸‰ ë¡¤ë°± ì ˆì°¨
1. Vercel ëŒ€ì‹œë³´ë“œì—ì„œ ì´ì „ ë°°í¬ ë²„ì „ ì„ íƒ
2. "Redeploy" ë²„íŠ¼ í´ë¦­
3. ë¬¸ì œ í•´ê²° í›„ ë‹¤ì‹œ ë°°í¬

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### í˜„ì¬ êµ¬í˜„ëœ ìµœì í™”
- **ì •ì  ìƒì„±**: Next.js Static Generation í™œìš©
- **ì´ë¯¸ì§€ ìµœì í™”**: Next.js Image ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ê¶Œì¥
- **ë²ˆë“¤ ìµœì í™”**: Tree shaking ë° ì½”ë“œ ë¶„í•  ìë™ ì ìš©
- **ìºì‹±**: Vercel Edge Network ìë™ ìºì‹±

### í–¥í›„ ìµœì í™” ê°€ëŠ¥ì‚¬í•­
- **API ìºì‹±**: Redis ë“±ì„ í†µí•œ API ì‘ë‹µ ìºì‹±
- **ì´ë¯¸ì§€ CDN**: ì´ë¯¸ì§€ ìµœì í™” ì„œë¹„ìŠ¤ ì—°ë™
- **Database Indexing**: MongoDB ì¸ë±ìŠ¤ ìµœì í™”
- **Lazy Loading**: ì»´í¬ë„ŒíŠ¸ ì§€ì—° ë¡œë”© êµ¬í˜„

## ğŸ“ ì§€ì› ë° ìœ ì§€ë³´ìˆ˜

### ëª¨ë‹ˆí„°ë§ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì£¼ê°„ ì„±ëŠ¥ ì§€í‘œ í™•ì¸
- [ ] ì›”ê°„ ë³´ì•ˆ ì—…ë°ì´íŠ¸ ì ìš©
- [ ] ë¶„ê¸°ë³„ ì˜ì¡´ì„± ì—…ë°ì´íŠ¸
- [ ] ì—°ê°„ ë°±ì—… ë° ë³µêµ¬ í…ŒìŠ¤íŠ¸

### ê¸°ìˆ  ì§€ì› ì—°ë½ì²˜
- **í”„ë¡œì íŠ¸ ê´€ë¦¬**: GitHub Issues í™œìš©
- **ê¸´ê¸‰ ìƒí™©**: ì‹œìŠ¤í…œ ê´€ë¦¬ì ì§ì ‘ ì—°ë½
- **ê¸°ëŠ¥ ìš”ì²­**: ì‚¬ìš©ì í”¼ë“œë°± ì‹œìŠ¤í…œ í™œìš©

---

## ğŸ‰ ë°°í¬ ì™„ë£Œ í›„ í™•ì¸ì‚¬í•­

### ìµœì¢… í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ë©”ì¸ í˜ì´ì§€ ì •ìƒ ë¡œë”©
- [ ] ì±„íŒ…ë´‡ ê¸°ëŠ¥ ì •ìƒ ë™ì‘  
- [ ] Google ë¡œê·¸ì¸ ì •ìƒ ë™ì‘
- [ ] ê´€ë¦¬ì í˜ì´ì§€ ì ‘ê·¼ ê°€ëŠ¥
- [ ] ëª¨ë“  CRUD ê¸°ëŠ¥ ì •ìƒ ë™ì‘
- [ ] ë°˜ì‘í˜• ë””ìì¸ ì ìš© í™•ì¸
- [ ] SSL ì¸ì¦ì„œ ì •ìƒ ì ìš©
- [ ] SEO ë©”íƒ€íƒœê·¸ ì ìš© í™•ì¸

**ì¶•í•˜í•©ë‹ˆë‹¤! ğŸŠ í”„ë¡œë•ì…˜ ë°°í¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.**

---

**ì‘ì„±ì¼**: 2024ë…„ 12ì›”  
**ë²„ì „**: 1.0.0  
**ìƒíƒœ**: ë°°í¬ ì¤€ë¹„ ì™„ë£Œ