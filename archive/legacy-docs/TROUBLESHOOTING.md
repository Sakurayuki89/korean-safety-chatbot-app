# 트러블슈팅 가이드

## 좀비 프로세스 문제 (2025-09-09)

### 문제 현상
- `npm run dev` 실행 시 서버가 시작되지 않음
- 포트 3000이 이미 사용 중이라는 오류 메시지 없이 조용히 실패
- `lsof -i :3000` 으로 확인 시 좀비 프로세스(PID 88688) 발견

### 근본 원인
**보이지 않는 좀비 프로세스가 포트 3000을 점유**
- 이전 개발 세션에서 제대로 종료되지 않은 Node.js 프로세스
- 터미널 종료나 시스템 재시작 없이 장시간 실행
- Next.js 개발 서버의 Hot Module Replacement가 중단된 상태

### 해결 방법

#### 1. 즉시 해결
```bash
# 포트 사용 프로세스 확인
lsof -i :3000

# 좀비 프로세스 강제 종료
kill -9 [PID]

# 또는 포트 3000 사용하는 모든 프로세스 종료
lsof -ti:3000 | xargs kill -9
```

#### 2. 예방 조치
```bash
# 개발 시작 전 포트 정리
npm run clean-port

# 개발 종료 시 안전한 종료
Ctrl+C (두 번 눌러서 확실히 종료)
```

### 교훈
1. **명확한 오류 메시지의 중요성**: 조용한 실패가 가장 디버깅하기 어려움
2. **프로세스 관리**: 개발 서버 종료 시 확실한 정리 필요
3. **시스템 상태 확인**: 개발 시작 전 포트 상태 체크
4. **문서화**: 이런 문제는 반복될 가능성이 높으므로 기록 필수

### 개선 사항
- 프로세스 정리 스크립트 추가
- 개발 시작 시 포트 상태 자동 체크
- 더 명확한 오류 메시지 시스템

---

## 일반적인 문제들

### MongoDB 연결 오류
**현상**: `MONGODB_URI` 환경변수 관련 오류
**해결**: `.env.local` 파일 확인 및 MongoDB Atlas 연결 문자열 검증

### Gemini API 오류  
**현상**: `GEMINI_API_KEY` 관련 오류
**해결**: Google AI Studio에서 API 키 확인 및 환경변수 설정

### 포트 충돌
**현상**: `EADDRINUSE` 오류
**해결**: `npm run clean-port` 실행 후 재시작